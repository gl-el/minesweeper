(()=>{"use strict";var e={381:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(81),o=n.n(r),a=n(645),l=n.n(a),c=n(667),i=n.n(c),s=new URL(n(797),n.b),d=new URL(n(785),n.b),u=l()(o()),m=i()(s),g=i()(d);u.push([e.id,"body {\n  --bg-color: #f5f5dc;\n  --text-color: #000;\n  --border-inactive: #999;\n  --border-active: #000;\n  --active: #72ec00;\n  --inactive: #275200;\n  --bomb: #810000;\n  --hover: #418600;\n  --slider-end: #ffa600;\n}\n\nbody.dark-mode {\n  --bg-color: #161d27;\n  --text-color: #00cafd;\n  --border-inactive: #999;\n  --border-active: #154da1;\n  --active: #1c77ff;\n  --inactive: #020f86;\n  --bomb: #f10050;\n  --hover: #1450a8;\n  --slider-end: #e100ff;\n}\n\n@media (prefers-color-scheme: dark) {\n  body {\n    --bg-color: #161d27;\n    --text-color: #00cafd;\n    --border-inactive: #999;\n    --border-active: #154da1;\n    --active: #1c77ff;\n    --inactive: #020f86;\n    --bomb: #f10050;\n    --hover: #1450a8;\n    --slider-end: #e100ff;\n  }\n\n  body.light-mode {\n    --bg-color: #f5f5dc;\n    --text-color: #000;\n    --border-inactive: #999;\n    --border-active: #000;\n    --active: #72ec00;\n    --inactive: #275200;\n    --bomb: #810000;\n    --hover: #418600;\n    --slider-end: #ffa600;\n  }\n}\n\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n  background-color: var(--bg-color);\n  color: var(--text-color);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n  font-size: clamp(1rem, 23px, 3vw);\n}\n\n.top {\n  width: min(80vw, 500px);\n  display: flex;\n  justify-content: space-around;\n}\n\n.game-settings {\n  width: min(75vw, 450px);\n  display: grid;\n  grid-template-columns: 1em min(20vw, 120px) 1fr;\n  column-gap: 6%;\n  gap: 0.5em;\n  justify-content: center;\n  align-items: center;\n}\n\n.level {\n  margin: 0;\n  appearance: none;\n  border-radius: 50%;\n  width: 1em;\n  aspect-ratio: 1 / 1;\n  border: 2px solid var(--border-inactive);\n  transition: 0.2s border linear;\n}\n\n.level:checked {\n  border: 2px solid var(--border-active);\n  background-color: var(--active);\n}\n\n.slider {\n  appearance: none;\n  -webkit-appearance: none;\n  width: 100%;\n  border-radius: 8px;\n  background-color: transparent;\n  background-image: linear-gradient(90deg, var(--active), var(--slider-end));\n  background-size: 0% 100%;\n  background-repeat: no-repeat;\n  border: 2px solid var(--border-inactive);\n  transition: 0.2s border linear;\n}\n\n.slider:hover,\n.level:hover {\n  border: 2px solid var(--border-active);\n  cursor: pointer;\n}\n\n.radio__label:hover {\n  cursor: pointer;\n}\n\n.slider::-webkit-slider-runnable-track {\n  box-sizing: border-box;\n  width: 100%;\n  height: 16px;\n  border-radius: 8px;\n  background: transparent;\n  cursor: pointer;\n}\n\n.slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  height: 26px;\n  width: 10px;\n  border-radius: 5px;\n  margin-top: -4px;\n  background-color: var(--inactive);\n  border: 2px solid var(--inactive);\n  cursor: ew-resize;\n  transition: background-color 0.1s;\n}\n\n.slider::-webkit-slider-thumb:hover {\n  background-color: var(--active);\n}\n\n.bombs-qty {\n  justify-self: center;\n}\n\n.bottom {\n  width: min(80vw, 500px);\n  display: grid;\n  grid-template-columns: repeat(8, 1fr);\n  align-items: center;\n  gap: 1%;\n}\n\n.bottom>span:nth-child(even) {\n  justify-self: start;\n}\n\n.bottom>span:nth-child(odd) {\n  justify-self: end;\n}\n\n.btn {\n  width: min(calc(80vw /5), calc(500px / 5));\n  color: var(--text-color);\n  aspect-ratio: 3 / 1;\n  display: block;\n  background-color: inherit;\n  border-radius: 5px;\n  border: 2px solid var(--border-inactive);\n  transition: 0.2s all;\n}\n\n.btn:hover {\n  cursor: pointer;\n  border: 2px solid var(--border-active);\n  background-color: revert;\n}\n\n.field {\n  display: flex;\n  flex-wrap: wrap;\n  width: min(90vw, 500px);\n  aspect-ratio: 1 / 1;\n}\n\n.card {\n  background-color: var(--active);\n  outline: 1px solid var(--border-active);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: 0.2s;\n}\n\n.card_easy {\n  width: 10%;\n  height: 10%;\n  font-size: clamp(10px, 3.5vw, 25px);\n}\n\n.card_medium {\n  width: 6.65%;\n  height: 6.65%;\n  font-size: clamp(5px, 3vw, 20px);\n}\n\n.card_hard {\n  width: 4%;\n  height: 4%;\n  font-size: clamp(5px, 2vw, 12px);\n}\n\n.card_bomb {\n  background-color: var(--bomb);\n  background-image: url("+m+");\n  background-size: contain;\n}\n\n.card_flag {\n  background-image: url("+g+");\n  background-size: contain;\n}\n\n.card-1 {\n  color: #04a3ff;\n}\n\n.card-2 {\n  color: #FFB900;\n}\n\n.card-3 {\n  color: #FF6B6B;\n}\n\n.card-4 {\n  color: #3ef8f8;\n}\n\n.card-5 {\n  color: #FF8C00;\n}\n\n.card-6 {\n  color: #fc264a;\n}\n\n.card-7 {\n  color: #3cff15;\n}\n\n.card-8 {\n  color: #FF1493;\n}\n\n.card:hover {\n  cursor: pointer;\n  background-color: var(--hover);\n}\n\n.card_opened {\n  background-color: var(--inactive);\n}\n\n.ico {\n  font-size: 1.2em;\n}\n\n.ico__time_active {\n  animation-name: rotate;\n  animation-duration: 2s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n}\n\n@keyframes rotate {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.modal {\n  visibility: hidden;\n  opacity: 0;\n  color: var(--active);\n  background-color: var(--inactive);\n  outline: 1px solid var(--active);\n  width: min(90vw, 700px);\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  z-index: 2;\n  transition: opacity 0.3s;\n}\n\n.modal_active {\n  visibility: visible;\n  opacity: 1;\n}\n\n.modal_active~.modal__before {\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: var(--bg-color);\n  width: 100vw;\n  height: 100vh;\n  opacity: 0.8;\n}\n\n.btn__modal {\n  position: relative;\n  top: 50px;\n  z-index: 2;\n}\n\n.list__item_lose::marker {\n  content: '❌';\n}\n\n.list__item_win::marker {\n  content: '✅';\n}",""]);const p=u},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(r)for(var c=0;c<this.length;c++){var i=this[c][0];null!=i&&(l[i]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);r&&l[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},l=[],c=0;c<e.length;c++){var i=e[c],s=r.base?i[0]+r.base:i[0],d=a[s]||0,u="".concat(s," ").concat(d);a[s]=d+1;var m=n(u),g={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==m)t[m].references++,t[m].updater(g);else{var p=o(g,r);r.byIndex=c,t.splice(c,0,{identifier:u,updater:p,references:1})}l.push(u)}return l}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var l=0;l<a.length;l++){var c=n(a[l]);t[c].references--}for(var i=r(e,o),s=0;s<a.length;s++){var d=n(a[s]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=i}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},797:(e,t,n)=>{e.exports=n.p+"3b78dcf069d0dfbc8968.svg"},785:(e,t,n)=>{e.exports=n.p+"5d54abf4722ff1e63247.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!e;)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(379),t=n.n(e),r=n(795),o=n.n(r),a=n(569),l=n.n(a),c=n(565),i=n.n(c),s=n(216),d=n.n(s),u=n(589),m=n.n(u),g=n(381),p={};p.styleTagTransform=m(),p.setAttributes=i(),p.insert=l().bind(null,"head"),p.domAPI=o(),p.insertStyleElement=d(),t()(g.Z,p),g.Z&&g.Z.locals&&g.Z.locals;const f=n.p+"e3e51cd083ff05aa183c.wav",b=n.p+"e249295dbe1762be5dc1.wav",v=n.p+"f04ed64a149a8694ffc4.wav",h=n.p+"10323a0fb89f1df7a6b2.wav";class y{constructor(e,t,n,r){this.elementType=e,this.attributes=t,this.parentElement=n,this.content=r}createElement(){const e=document.createElement(this.elementType);return Object.keys(this.attributes).forEach((t=>{this.attributes[t]&&e.setAttribute(t,this.attributes[t])})),e.textContent=this.content,e}insert(){const e=this.createElement();this.parentElement.append(e)}}const x={buildModal(){const e=document.createElement("div");e.setAttribute("class","modal"),new y("h2",{class:"modal__header"},e).insert(),new y("div",{class:"modal__content"},e).insert(),new y("button",{class:"btn btn__modal material-symbols-outlined"},e,"close").insert(),document.body.append(e),new y("div",{class:"modal__before"},document.body).insert()},buildList(e,t){const n=document.createElement("ul");n.setAttribute("class","modal__results"),e.reverse().forEach((e=>{new y("li",{class:`list__item list__item_${e[0]}`},n,`${e[1]}x${e[1]} field, ${e[2]} bombs in ${e[3]} sec and ${e[4]} clicks `).insert()})),t.append(n)},removeContent(){document.querySelector(".modal__content").replaceChildren()},show(e,t){const n=document.querySelector(".modal__header"),r=document.querySelector(".modal__content"),o=document.querySelector(".modal");n.textContent=e,"object"==typeof t?this.buildList(t,r):r.textContent=t,o.classList.add("modal_active")},close(){const e=document.querySelector(".modal");this.removeContent(),e.classList.remove("modal_active")}};function S(e,t){const n=[];for(let r=0;r<e;r+=1)for(let o=0;o<e;o+=1){const e=document.createElement("div");e.setAttribute("class",`card card_${t}`),e.setAttribute("data-cord",`${r},${o}`),n.push(e)}return n}function _(){localStorage.removeItem("isSave"),localStorage.removeItem("bombs"),localStorage.removeItem("bombsCounter"),localStorage.removeItem("seconds"),localStorage.removeItem("field"),localStorage.removeItem("clickCounter"),localStorage.removeItem("flagsCounter"),localStorage.removeItem("fieldArr"),localStorage.removeItem("level"),localStorage.removeItem("fieldSide"),localStorage.removeItem("bombsQty")}let w=null===localStorage.getItem("clickCounter")?0:+localStorage.getItem("clickCounter"),k=null===localStorage.getItem("isSave");const I="true"===localStorage.getItem("isSave");let $=!0,M=!1,C=null===localStorage.getItem("fieldArr")?[]:JSON.parse(localStorage.getItem("fieldArr")),q=null===localStorage.getItem("bombs")?[]:JSON.parse(localStorage.getItem("bombs")),L=I?q.length:10,E=null!==localStorage.getItem("fieldSide")&&I?+localStorage.getItem("fieldSide"):10,A=null!==localStorage.getItem("level")&&I?localStorage.getItem("level"):"easy",T=null!==localStorage.getItem("flagsCounter")&&I?+localStorage.getItem("flagsCounter"):0,j=null!==localStorage.getItem("bombsCounter")&&I?+localStorage.getItem("bombsCounter"):L,z=null!==localStorage.getItem("seconds")&&I?+localStorage.getItem("seconds"):0,F=null===localStorage.getItem("sound")?"on":localStorage.getItem("sound");const N=new class{constructor(){this.results=null===localStorage.getItem("results")?[]:JSON.parse(localStorage.getItem("results"))}addItem(e,t,n,r,o){this.results.push([e,t,n,r,o]),this.results.length>10&&this.results.shift(),localStorage.setItem("results",JSON.stringify(this.results))}getResults(){return this.results}};function O(e,t){return Math.floor(Math.random()*(t-e)+e)}function B(){document.querySelector(".counter").textContent=`${w}`}function H(){const e=document.querySelector(".flags"),t=document.querySelector(".bombs-counter");e.textContent=`${T}`,t.textContent=`${j}`,localStorage.setItem("flagsCounter",`${T}`),localStorage.setItem("bombsCounter",`${j}`)}function J(){const e=document.querySelector(".time-counter");z+=1,e.textContent=`${z} s`,localStorage.setItem("seconds",`${z}`)}let R;function P(e){const t=document.querySelector(".ico__time");"start"===e?(R=setInterval(J,1e3),t.classList.add("ico__time_active"),M=!0):"stop"===e?(clearInterval(R),t.classList.remove("ico__time_active"),M=!1):"restart"===e&&(clearInterval(R),t.classList.remove("ico__time_active"),M=!1,function(){const e=document.querySelector(".time-counter");z=0,e.textContent=`${z} s`}())}function Q(){T=0,j=L,w=0,$=!0,k=!0,M=!1,C=[],q=[],B(),H(),P("stop"),P("restart");const e=document.querySelectorAll(".card");for(let t=0;t<e.length;t+=1)e[t].removeAttribute("data-empty"),e[t].removeAttribute("data-flag"),e[t].textContent="",e[t].classList="",e[t].setAttribute("class",`card card_${A}`);"easy"===A?E=10:"medium"===A?E=15:"hard"===A&&(E=25)}function U(e,t,n,r){const o=r;0===e[t][n]&&"true"!==r.dataset.empty&&"true"!==r.dataset.flag?(r.setAttribute("data-empty","true"),r.classList.add("card_opened"),U(e,Math.max(0,t-1),Math.max(0,n-1),document.querySelector(`[data-cord="${Math.max(0,t-1)},${Math.max(0,n-1)}"]`)),U(e,Math.max(0,t-1),Math.max(0,n),document.querySelector(`[data-cord="${Math.max(0,t-1)},${Math.max(0,n)}"]`)),U(e,Math.max(0,t-1),Math.min(e.length-1,n+1),document.querySelector(`[data-cord="${Math.max(0,t-1)},${Math.min(e.length-1,n+1)}"]`)),U(e,t,Math.max(0,n-1),document.querySelector(`[data-cord="${t},${Math.max(0,n-1)}"]`)),U(e,t,Math.min(e.length-1,n+1),document.querySelector(`[data-cord="${t},${Math.min(e.length-1,n+1)}"]`)),U(e,Math.min(e.length-1,t+1),Math.max(0,n-1),document.querySelector(`[data-cord="${Math.min(e.length-1,t+1)},${Math.max(0,n-1)}"]`)),U(e,Math.min(e.length-1,t+1),Math.max(0,n),document.querySelector(`[data-cord="${Math.min(e.length-1,t+1)},${Math.max(0,n)}"]`)),U(e,Math.min(e.length-1,t+1),Math.min(e.length-1,n+1),document.querySelector(`[data-cord="${Math.min(e.length-1,t+1)},${Math.min(e.length-1,n+1)}"]`))):"B"!==e[t][n]&&"true"!==r.dataset.flag&&(r.setAttribute("data-empty","true"),r.classList.add("card_opened"),0!==e[t][n]&&(o.textContent=e[t][n],r.classList.add(`card-${e[t][n]}`)))}function Z(e){"on"===F&&new Audio(e).play()}!function(e,t,n,r,o,a,l,c){const i=document.querySelector("body"),s=document.createElement("div");s.setAttribute("class","field"),s.replaceChildren(...S(e,t)),i.append(s);const d=document.createElement("div");d.setAttribute("class","top"),new y("button",{class:"btn btn_restart material-symbols-outlined"},d,"replay").insert(),new y("button",{class:"btn btn_sound material-symbols-outlined"},d,"on"===n?"volume_off":"volume_up").insert(),new y("button",{class:"btn btn_light material-symbols-outlined"},d,"light_mode").insert(),new y("button",{class:"btn btn_results material-symbols-outlined"},d,"leaderboard").insert();const u=document.createElement("div");u.setAttribute("class","game-settings"),new y("input",{type:"radio",id:"easy",class:"level",name:"level",value:"easy",checked:"true"},u).insert(),new y("label",{for:"easy",class:"radio__label"},u,"10x10").insert(),new y("label",{class:"bombs-qty",for:"bombsQty"},u,`Bombs quantity: ${r}`).insert(),new y("input",{type:"radio",id:"medium",class:"level",name:"level",value:"medium"},u).insert(),new y("label",{for:"medium",class:"radio__label"},u,"15x15").insert(),new y("input",{type:"range",id:"bombsQty",class:"slider",name:"bombsQty",min:"10",max:"99",value:`${r}`,step:"1"},u).insert(),new y("input",{type:"radio",id:"hard",class:"level",name:"level",value:"hard"},u).insert(),new y("label",{for:"hard",class:"radio__label"},u,"25x25").insert(),i.prepend(d,u);const m=document.createElement("div");m.setAttribute("class","bottom"),new y("span",{class:"ico material-symbols-outlined"},m,"left_click").insert(),new y("span",{class:"counter"},m,`${c}`).insert(),new y("span",{class:"ico ico__time material-symbols-outlined"},m,"hourglass_empty").insert(),new y("span",{class:"time-counter"},m,`${a} s`).insert(),new y("span",{class:"ico material-symbols-outlined"},m,"flag").insert(),new y("span",{class:"flags"},m,`${o}`).insert(),new y("span",{class:"ico material-symbols-outlined"},m,"explosion").insert(),new y("span",{class:"bombs-counter"},m,`${l}`).insert(),i.append(m);const g=document.querySelector(".slider");g.style.backgroundSize=100*(r-g.min)/(g.max-g.min)+"% 100%"}(E,A,F,L,T,z,j,w),function(){const e=document.querySelector(".btn_light"),t=window.matchMedia("(prefers-color-scheme: dark").matches,n=localStorage.getItem("theme");e.textContent=t?"light_mode":"dark_mode","light"===n?(e.textContent="dark_mode",document.body.classList.toggle("light-mode")):"dark"===n&&(e.textContent="light_mode",document.body.classList.toggle("dark-mode")),e.addEventListener("click",(()=>{let n=document.body.classList.contains("light-mode")?"dark":"light";document.body.classList.toggle("light-mode"),t||(n=document.body.classList.contains("dark-mode")?"light":"dark",document.body.classList.toggle("dark-mode")),e.textContent="light_mode"===e.textContent?"dark_mode":"light_mode",localStorage.setItem("theme",n)}))}(),x.buildModal(),function(e){const t=null!==localStorage.getItem("level")&&e?localStorage.getItem("level"):"easy";e&&(document.querySelector(".field").innerHTML=localStorage.getItem("field"),document.querySelectorAll(".level").forEach((e=>{e.value===t&&e.setAttribute("checked","true")})))}(I);const Y=document.querySelector(".field");function D(e,t){const n=e;n.value=t;const r=document.querySelector(".bombs-qty");n.style.backgroundSize=100*(t-n.min)/(n.max-n.min)+"% 100%",r.textContent=`Bombs quantity: ${L}`}Y.addEventListener("click",(e=>{if("true"===e.target.dataset.flag||"true"===e.target.dataset.empty||!$||e.target.classList.contains("field"))return;Z(f);const t=e.target.dataset.cord,n=+t.split(",")[0],r=+t.split(",")[1];M||P("start"),k&&(q=function(e,t,n){const r=[];for(;r.length<e;){const e=`${O(0,t)},${O(0,t)}`;r.includes(e)||e===n||r.push(e)}return r}(L,E,t),C=function(e,t){const n=Array(e).fill().map((()=>Array(e).fill(0)));t.forEach((e=>{const t=e.split(",")[0],r=e.split(",")[1];n[t][r]="B"}));for(let e=0;e<n.length;e+=1)for(let t=0;t<n[e].length;t+=1)if("B"===n[e][t])for(let r=Math.max(0,e-1);r<Math.min(n.length,e+2);r+=1)for(let e=Math.max(0,t-1);e<Math.min(n.length,t+2);e+=1)"B"!==n[r][e]&&(n[r][e]+=1);return n}(E,q),k=!1,localStorage.setItem("fieldArr",`${JSON.stringify(C)}`),localStorage.setItem("bombs",`${JSON.stringify(q)}`)),"true"!==e.target.dataset.empty&&(q.includes(t)?q.forEach((e=>{const t=e.split(",")[0],n=e.split(",")[1],r=document.querySelector(`[data-cord="${t},${n}"]`);r.classList.remove("card_opened"),r.classList.add("card_bomb")})):0!==C[n][r]?(e.target.textContent=`${C[n][r]}`,e.target.classList.add(`card-${C[n][r]}`),e.target.setAttribute("data-empty","true")):U(C,n,r,e.target)),e.target.classList.add("card_opened"),w+=1,B(),localStorage.setItem("isSave","true"),localStorage.setItem("field",`${Y.innerHTML}`),localStorage.setItem("clickCounter",`${w}`),localStorage.setItem("level",`${A}`),function(e,t){const n=document.querySelectorAll('[data-empty="true"]').length;q.includes(t)&&(Z(b),$=!1,P("stop"),_(),x.show("You lose!","Game over. Try again")),q.length===e**2-n&&(Z(v),$=!1,P("stop"),_(),N.addItem("win",C.length,L,z,w),x.show("You win!",`Hooray! You found all mines in ${z} seconds and ${w} moves!`))}(C.length,t)})),Y.addEventListener("contextmenu",(e=>{e.preventDefault(),$&&(I&&!M&&"true"!==e.target.dataset.empty&&P("start"),k||"true"===e.target.dataset.empty||(T<L&&"true"!==e.target.dataset.flag?(Z(h),T+=1,j-=1,e.target.classList.add("card_flag"),e.target.setAttribute("data-flag","true")):"true"===e.target.dataset.flag&&(Z(h),T-=1,j+=1,e.target.removeAttribute("data-flag"),e.target.classList.remove("card_flag"))),H(),localStorage.setItem("field",`${Y.innerHTML}`))})),document.querySelector(".btn_restart").addEventListener("click",(()=>{Q(),_()})),document.querySelectorAll(".level").forEach((e=>{e.addEventListener("change",(e=>{e.target.value!==A&&(function(e){const t=document.querySelector(".field");"easy"===e?(A="easy",E=10,L=10):"medium"===e?(A="medium",E=15,L=25):"hard"===e&&(A="hard",E=25,L=80),D(document.querySelector(".slider"),L),t.replaceChildren(...S(E,A))}(e.target.value),Q(),_(),localStorage.setItem("fieldSide",`${E}`))}))}));const G=document.querySelector(".slider");G.addEventListener("input",(e=>{L=e.target.value,D(G,e.target.value)})),G.addEventListener("change",(()=>{Q(),_()}));const K=document.querySelector(".btn_sound");K.addEventListener("click",(()=>{"on"===F?(F="off",K.textContent="volume_up"):(F="on",K.textContent="volume_off"),localStorage.setItem("sound",`${F}`)})),document.querySelector(".btn_results").addEventListener("click",(()=>{x.show("Last results:",N.getResults())})),document.querySelector(".btn__modal").addEventListener("click",(()=>{x.close()})),window.addEventListener("click",(e=>{e.target===document.querySelector(".modal__before")&&x.close()}))})()})();